const _container = new Map();
const get_id = (() => {
    let _id = 1;
    return () => _id++;
})();
export function Get(controllerType) {
    const fn = controllerType;
    if (!fn._$key) {
        fn._$key = `${new Date().getTime()}${get_id()}`;
    }
    if (!_container.has(fn._$key)) {
        _container.set(fn._$key, new controllerType());
    }
    return _container.get(fn._$key);
}
export function RemoveController(controllerType) {
    const fn = controllerType;
    if (_container.has(fn._$key)) {
        if (_container.get(fn._$key).dispose)
            _container.get(fn._$key).dispose();
        _container.delete(fn._$key);
        fn._$key = undefined;
        return true;
    }
    return false;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicHJvdmlkZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdHJlYW1zdGVjaC91aS1zZGsvc2VydmljZXMvc3JjL3N0YXRlL3Byb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBLE1BQU0sVUFBVSxHQUFxQixJQUFJLEdBQUcsRUFBRSxDQUFDO0FBQy9DLE1BQU0sTUFBTSxHQUFHLENBQUMsR0FBRyxFQUFFO0lBQ25CLElBQUksR0FBRyxHQUFHLENBQUMsQ0FBQztJQUNaLE9BQU8sR0FBRyxFQUFFLENBQUMsR0FBRyxFQUFFLENBQUM7QUFDckIsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUNMLE1BQU0sVUFBVSxHQUFHLENBQ2pCLGNBQTJCO0lBRTNCLE1BQU0sRUFBRSxHQUFHLGNBQXFCLENBQUM7SUFDakMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUU7UUFDYixFQUFFLENBQUMsS0FBSyxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLEVBQUUsRUFBRSxDQUFDO0tBQ2pEO0lBRUQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxFQUFFO1FBQzdCLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssRUFBRSxJQUFJLGNBQWMsRUFBRSxDQUFDLENBQUM7S0FDaEQ7SUFDRCxPQUFPLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO0FBQ2xDLENBQUM7QUFFRCxNQUFNLFVBQVUsZ0JBQWdCLENBQzlCLGNBQTJCO0lBRTNCLE1BQU0sRUFBRSxHQUFHLGNBQXFCLENBQUM7SUFFakMsSUFBSSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUM1QixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDLE9BQU87WUFBRSxVQUFVLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN6RSxVQUFVLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUM1QixFQUFFLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQztRQUNyQixPQUFPLElBQUksQ0FBQztLQUNiO0lBQ0QsT0FBTyxLQUFLLENBQUM7QUFDZixDQUFDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGVDb250cm9sbGVyIH0gZnJvbSBcIi4vc3RhdGVDb250cm9sbGVyXCI7XHJcblxyXG5jb25zdCBfY29udGFpbmVyOiBNYXA8bnVtYmVyLCBhbnk+ID0gbmV3IE1hcCgpO1xyXG5jb25zdCBnZXRfaWQgPSAoKCkgPT4ge1xyXG4gIGxldCBfaWQgPSAxO1xyXG4gIHJldHVybiAoKSA9PiBfaWQrKztcclxufSkoKTtcclxuZXhwb3J0IGZ1bmN0aW9uIEdldDxUIGV4dGVuZHMgU3RhdGVDb250cm9sbGVyPGFueT4+KFxyXG4gIGNvbnRyb2xsZXJUeXBlOiBuZXcgKCkgPT4gVFxyXG4pOiBUIHtcclxuICBjb25zdCBmbiA9IGNvbnRyb2xsZXJUeXBlIGFzIGFueTtcclxuICBpZiAoIWZuLl8ka2V5KSB7XHJcbiAgICBmbi5fJGtleSA9IGAke25ldyBEYXRlKCkuZ2V0VGltZSgpfSR7Z2V0X2lkKCl9YDtcclxuICB9XHJcblxyXG4gIGlmICghX2NvbnRhaW5lci5oYXMoZm4uXyRrZXkpKSB7XHJcbiAgICBfY29udGFpbmVyLnNldChmbi5fJGtleSwgbmV3IGNvbnRyb2xsZXJUeXBlKCkpO1xyXG4gIH1cclxuICByZXR1cm4gX2NvbnRhaW5lci5nZXQoZm4uXyRrZXkpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gUmVtb3ZlQ29udHJvbGxlcjxUIGV4dGVuZHMgU3RhdGVDb250cm9sbGVyPGFueT4+KFxyXG4gIGNvbnRyb2xsZXJUeXBlOiBuZXcgKCkgPT4gVFxyXG4pOiBib29sZWFuIHtcclxuICBjb25zdCBmbiA9IGNvbnRyb2xsZXJUeXBlIGFzIGFueTtcclxuXHJcbiAgaWYgKF9jb250YWluZXIuaGFzKGZuLl8ka2V5KSkge1xyXG4gICAgaWYgKF9jb250YWluZXIuZ2V0KGZuLl8ka2V5KS5kaXNwb3NlKSBfY29udGFpbmVyLmdldChmbi5fJGtleSkuZGlzcG9zZSgpO1xyXG4gICAgX2NvbnRhaW5lci5kZWxldGUoZm4uXyRrZXkpO1xyXG4gICAgZm4uXyRrZXkgPSB1bmRlZmluZWQ7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuICB9XHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcbiJdfQ==